# 브라우저의 렌더링
## 브라우저의 기본 구조
![image](https://github.com/suehdn/FEDC4-CS-Study/assets/67812466/cd23b46f-9dd4-40ef-a385-ed885410ce2c)
1. 사용자 인터페이스 - 주소 표시줄, 이전/다음 버튼, 북마크 메뉴 등 요청한 페이지를 보여주는 창을 제외한 나머지 모든 부분
2. 브라우저 엔진 - 사용자 인터페이스와 렌더링 엔진 사이의 동작을 제어
3. **렌더링 엔진 - 요청한 콘텐츠를 표시. HTML을 요청하면 HTML과 CSS를 파싱하여 화면에 표시**
4. 통신 - HTTP 요청과 같은 네트워크 호출에 사용됨. 이것은 플랫폼 독립적인 인터페이스이고 각 플랫폼 하부에서 실행됨
5. UI 백엔드 - 콤보 박스와 창 같은 기본적인 장치를 그림. 플랫폼에서 명시하지 않은 일반적인 인터페이스로서, OS 사용자 인터페이스 체계를 사용
6. 자바스크립트 해석기 - 자바스크립트 코드를 해석하고 실행
7. 자료 저장소 - 자료를 저장하는 계층. 쿠키를 저장하는 것과 같이 모든 종류의 자원을 하드 디스크에 저장할 필요가 있음. HTML5 명세에는 브라우저가 지원하는 '웹 데이터 베이스'가 정의되어 있음.

## 렌더링 엔진의 동작 과정
### 동작 과정 예
![image](https://github.com/suehdn/FEDC4-CS-Study/assets/67812466/d4cd3cf0-df6a-4dfc-91fb-0b65bc712da5)
1. 브라우저는 HTML을 읽고 파싱한 후 DOM Tree를 구성
2. Style Sheets를 파싱해 Styler rules를 만들어 DOM요소에 스타일 요소를 입혀 만들어놓음
3. Render Tree를 만들어 Layout 과정을 거쳐 DOM 노드의 위치를 정해줌
4. Render Tree가 완성되면 Tree를 통해 실제 화면에 그려줌

브라우저는 이 Render Tree를 읽어 위치와 그래픽을 계산해 최종적으로 화면에 출력<br>
DOM이나 스타일이 수정될 경우 이 과정을 반복하게 됨
### 동작 과정
![image](https://github.com/suehdn/FEDC4-CS-Study/assets/67812466/e87245fa-7625-49d4-9515-138996181f1d)
1. HTML 문서를 파싱하고 "콘텐츠 트리" 내부에서 태그를 DOM 노드로 변환 & 외부 CSS 파일과 함께 포함된 스타일 요소 파싱 
2. 스타일 정보와 HTML 표시 규칙은 "렌더 트리"를 생성
3. 렌더 트리 생성이 끝나면 각 노드가 정확한 위치에 표시되도록 배치가 시작됨
4. UI 백엔드에서 렌더 트리의 각 노드를 가로지르며 형상을 만들어냄

좀 더 나은 사용자 경험을 위해 가능하면 빠르게 내용을 표시 => 모든 HTML을 파싱할 때 까지 기다리는것이 아닌 전송되기를 기다리며 받은 내용의 일부를 먼저 화면에 표시

## 파싱과 DOM 트리 구축
### 파싱
- 브라우저가 코드를 이해하고 사용할 수 있는 구조로 변환하는 것
- 파싱 결과는 파싱 트리 혹은 문법 트리라 부름
### 변환
- 파싱 트리 생성 후 이를 기계 코드 문서로 변환함

참고 링크<br>
[브라우저는 어떻게 동작하는가?](https://d2.naver.com/helloworld/59361)
