### 브라우저의 렌더링 과정

1. 브라우저는 렌더링에 필요한 리소스를 요청하고 서버로부터 응답을 받는다.
2. 브라우저의 렌더링 엔진은 서버로부터 받은 HTML과 CSS를 파싱하여 DOM과 CSSOM을 생성하고 이들을 결합하여 렌더 트리를 생성한다.
3. 렌더 트리를 기반으로 HTML요소의 레이아웃(위치와 크기)를 계산하고 브라우저 화면에 페인팅한다.

### 렌더링 과정에서 자바스크립트는 어떻게 동작하나

1. 렌더링 엔진은 DOM을 생성하다가 script태그를 만나면  DOM 생성을 일시 중단한다. 
2. 자바스크립트 엔진은 서버로부터 받은 자바스크립트를 파싱하여 AST(추상적 구문트리)를 생성하고 인터프리터가 실행할 수 있는 바이트코드를 생성하여 실행한다.

### 리플로우와 리페인트

자바스크립트 코드에 DOM API가 사용된 경우 DOM과 CSSOM을 변경할 수 있다. 이때 변경된 DOM과 CSSOM은 다시 렌더트리로 결합되고 변경된 렌더 트리를 기반으로 브라우저 화면이 다시 재렌더링 된다.

리플로우 : 노드 추가/삭제, 요소의 크기 위치 변경 등 레이아웃에 영향을 주는 변경이 발생한 경우 레이아웃을 계산을 다시하는 것

리페인트 : 재결합된 렌더트리를 기반으로 다시 페인트를 하는 것

### 리플로우와 리페인트가 실행되는 시점

리플로우

1. DOM 엘리먼트 추가, 제거 또는 변경
2. CSS 스타일 추가 제거 또는 변경
3. 유저 행동, 유저 인터랙션 hover효과, 필드에 텍스트 입력 창크기 조정

### **script 태그를 body 태그 밑에 둬야하는 이유**

1. DOM이 완성되지 않은 상태에서 자바스크립트가 DOM을 조작하면 에러가 생길수 있다.
2. DOM을 생성하는 과정에서 script태그를 만나면  DOM 생성을 일시 중단하게 되는데 이때 자바스크립트의 로딩/파싱/실행으로 인해 페이지 로딩 시간이 지연될 수 있다.

### async/defer 어트리뷰트

자바스크립트 파싱에 의한 DOM 생성이 중단되는 문제를 근본적으로 해결하기위해 추가되었다. 

공통점 : 자바스크립트 파일 로드가 비동기적으로 동시에 진행된다.

차이점 : async은 자바스크립트 파일 로드가 완료된 직후 진행, 이때 HTML 파싱이 중단된다. 반면 defer은 DOM 생성이 완료된 직후 진행